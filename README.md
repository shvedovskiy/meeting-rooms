npm i
npm start

[![CircleCI](https://circleci.com/gh/shvedovskiy/meeting-rooms/tree/master.svg?style=svg)](https://circleci.com/gh/shvedovskiy/meeting-rooms/tree/master)

РЕКОМЕНДАЦИИ

Для блока рекомендаций необходимо учитывать:

- количество участников и вместимость переговорок
- близость переговорки ко всем участникам встречи (первыми в списке должны быть переговорки, для которых суммарное количество пройдённых всеми участниками этажей будет минимальным)

Если все подходящие переговорки заняты, необходимо проверить, возможно ли освободить какую-то из них:

- Может быть, можно перенести встречу из неё в другую переговорку (например, меньших размеров)
- Если переговорки заняты не на весь период времени, стоит попробовать освободить одну из них, перенеся встречи в другие подходящие переговорки
  Например, есть встреча с 11:00 до 12:00 и есть две подходящие переговорки А (занята с 11:00 до 11:30) и B (занята c 11:30 до 12:00). В таком случае можно перенести получасовую встречу из A в B, чтобы освободить А, или перенести встречу из B в A, чтобы освободить B. Вариант выбираем так, чтобы суммарное количество пройдённых всеми участниками этажей было минимальным.

Если не удалось найти никаких вариантов, необходимо выбрать подходящие переговорки, которые освободятся раньше других.

1. выбираем все переговорки вместимости n, которые свободны хотя бы на половину встречи в заданном времени -- **OK**
   1.1. если найдены полностью свободные переговорки, сортируем по суммарному количеству этажей, которые придется пройти участникам => END -- **OK**
   1.2. если нет, выбираем из отобранных переговорки, встречи из которых можно подвинуть -- **OK**
   1.2.1. если найдены, сортируем по участникам текущей встречи и подвинутой встречи и возвращаем => END -- **OK**
   1.2.2. если нет, переходим к (2) -- **OK**

2. выбираем все переговорки вместимости n, которые свободны в нужный день, на всю встречу, без учёта заданного времени
   2.1 если найдены, сортируем по близости к запланированному времени и по близости участников, и возвращаем => END
   2.2 возвращаем "ошибку" => END

ПРИОРИТЕТ

Обновление кэша после мутаций

ФОРМА

Состояние кнопки submit -- неактивная только в:

1. "начальном" состоянии формы:
   - для add: все поля пустые
   - для edit: значения полей те же, что и в начале -- **OK**
2. "невалидном состоянии формы": для активации сабмита все валидации, кроме заполненности полей, должны быть выполнены
   - если по клику на сабмит происходит неудачная onBlur-валидация предыдущего активного поля, то не продолжаем сабмит, а блокируем кнопку и скроллим к месту ошибки

Проверять вставку данных в поля из буфера обмена

FUTURE FEATURES

Атрибуты title у truncate-текстов в интерфейсе

Aria формы

Упрощение условий в form/service/common.compareFormStates()

Префетчинг аватаров

Префетч шрифтов
https://medium.com/webpack/link-rel-prefetch-preload-in-webpack-51a52358f84c
https://github.com/facebook/create-react-app/issues/3319
https://stackoverflow.com/questions/49783921/using-preload-with-create-react-app

Лого как ссылка на главную яндекса

Некорректная разметка календаря на мобильной версии

Не обрезается длинный текст у названия этажа

Не видны названия этажей при горизонтальном скролле таблицы

Не появляются бейджи с названиями комнат при горизонтальном скролле таблицы в настольном режиме

CSS hyphens для нужных элементов в интерфейсе

Form actions расположены под нижней панелью мобильного браузера

Минимизировать количество передаваемых свойств у room и participants при запросе events из сервера

ErrorBoundaries для Page / Table

nullish - операторы

Решить проблему с валидацией isUrl в инпутах User-а

Попробовать альтернативный popover https://github.com/romainberger/react-portal-tooltip

Обработка сетевых ошибок мутаций в форме -- модальное окно с кнопкой "повторить"

Запретить создание из таблицы событий в прошлом

brotli в postbuild

http://avatars.adorable.io

APOLLO FEATURES

Код-сплиттинг для локальных резолверов (использовать для мутаций формы)
https://www.apollographql.com/docs/react/v2.5/essentials/local-state/#code-splitting

graphql.macro / graphql-tag.macro для предкомпиляции gql. Необходим переезд на фрагменты https://www.apollographql.com/docs/react/data/fragments/#fragments-on-unions-and-interfaces
